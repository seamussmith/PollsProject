{% comment %} 

Poll Component

Parameters:
poll: Poll dict
delay: Animation delay (defaults to 0)

{% endcomment %}

{% load humanize %}
<div class="poll" style="animation-delay: {{ delay|mul:0.05 }}s;">
    <h3 class="poll__title">{{ poll.name }}</h3>
    <form action="{% url "pollapp:index" %}" method="POST" class="poll__form" id="{{ poll.uuid }}">
        {% csrf_token %}
        {% for choice in poll.choices %}
        <button
        type="button"
        name="choice"
        value="{{ forloop.counter0 }}"
        data-votes="{{ choice.votes }}"
        data-votes-formatted="{{ choice.votes|intcomma }}"
        data-choice-text="{{ choice.text }}"
        class="poll__choice"
        onclick="SendVote(this)">{{ choice.text }}</button>
        {% endfor %}
        <input type="hidden" name="uuid" value="{{ poll.uuid }}">
    </form>
</div>
